Next.js Routes

Некст автоматичести на основании нашей файловый структуры в папке "pages"
определяет пути нашего веб-приложения.

Файл index.jsx/tsx в самом корне папке - будет главной страницей приложения.
Остальные файлы будут разделены "/" путь будет соответсвовать названию файла.
Пример:

pages:
|
|
---index.tsx - domain.com
|
|
---about.tsx - domain.com/about
|
|
---product(folder)
   |
   |
   ---index.tsx - domain.com/product
   |
   |
   ---[id] - domain.com/product/1 or 2 or 3

Файл который название которого состоит из квадрадных скобок и слова
внутри подразумевает динамический путь.

Извлечение динамического параметра пути в компоненте.
Нам из коробки доступен хук useRouter, который возвращает объект
со свойствами и методами, которые могут понадобиться для маршрутизации.
Один из таких параметров "query" - это вложенный объект, который в
качестве ключа будет представлять название динамического пути, если такой
определён в нашей файловой структуре, а значением и будет динамический адрес.

Example: 

pages:
|
|
---product(folder)
   |
   |
   ---[productId].tsx
   //Inside component we define new variable "router".
   const router = useRouter();
   const {productId} = router.query // dynamic product id

Вложенные динимические маршруты и пути.
Ровно также, как мы создавали динамические пути в определённых директориях,
мы можем создавать вложенные динамические маршруты.
"[id]" - может быть не только названием компонента, но и директории, если 
нам необходимо создать вложенный динамический маршрут.

pages:
|
|
---clients(folder)
   |
   |
   ---index.tsx - domain.com/clients 
   |
   |
   ---[clientId](folder) - domain.com/clients/:clientId 
      |
      |
      ---[clientProjectId].tsx - domain.com/clients/:clientId/:clientProjectId

Рест оператор в названии файла [...something].
Нам также может понадобиться собрать все динамические значения, 
введённые пользователем после определённого пути.
Сделать это можно с помощью спред оператора в названии файла.

pages:
|
|
---blog(folder)
  |
  |
  ---[...slug].tsx - user typing in url-input domain.com/blog/the-new-year/2022
  And we need this piece of url query --> [the-new-year/2022]
  We define "router" variable in our component.
  const router = useRouter();
  const {slug} = router.query; // And now we have key "slug" and value: ["the-new-year", "2022"]

"Link" component that provided "Next.js/router".
Данный компонент нужен для перемещения пользователя по маршрутам нашего 
веб-приложения. Функционал компонента идентичен компоненту "Link" из "react-router-dom",
за исключением того, что первый принимает атрибут "href" вместо "to".

По-умолчанию, при ховере ссылки, за кулисами делается запрос для получения данных,
необходимых для её отображения.

Атрибут "href" - в качестве значения может также принимать объект настроек.
Так, например, мы моглибы определить путь к динамическому маршруту, двумя разными способами.

1. <Link href=`/product/${customId}`>Product: {customId}</Link>
2. <Link 
    href={{
      pathname: "/product/[id]",
      query: {
        id: customId
      }
    }}>Product: {customId}</Link>

Помимо атрибута "href" этот компонент имеет ещё много плезных атрибутов.
Подробнее тут: https://nextjs.org/docs/api-reference/next/link

Программная навигация.
Раутер, который мы получаем с помощью хука useRouter().
Предоставляет несколько методов для программной навигации.

- push(path) - добавляет в историю новый путь и отправляет туда клиента.
- replace(path) - заменяет старый путь на новый указанный и отправляет туда клиента.

path аргумент может быть как строкой, так и объектом настроек.
Он идентичен объекту настроек атрибута "href" компонента "Link".

Обработка неопределённых маршрутов.
Мы также можем кастомизировать на своё усмотрение поведение нашего веб-приложения,
в случае, если пользователь переходит на неопределённый нами маршрут.
Для этого в корне папки "pages", необходимо создать компонент с названием
"404".tsx